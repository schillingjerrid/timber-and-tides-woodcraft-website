---
import TagPill from "./TagPill.astro";

type Props = {
  href: string;
  title: string;
  excerpt?: string;
  coverImage: string;
  tags?: string[];
};

const props = Astro.props as Props;
const href: string = props.href;
const title: string = props.title;
const excerpt: string | undefined = props.excerpt;
const coverImage: string = props.coverImage;
const tags: string[] = props.tags ?? [];
---

<a
  href={href}
  class="group overflow-hidden rounded-2xl border border-border bg-surface hover:bg-surface-2 transition"
>
  <div class="aspect-16/10 overflow-hidden bg-surface">
    <img
      src={coverImage}
      alt={title}
      loading="lazy"
      class="h-full w-full object-cover group-hover:scale-[1.02] transition"
    />
  </div>

  <div class="p-4">
    <h3 class="text-base font-semibold">{title}</h3>

    {excerpt && <p class="mt-1 text-sm text-muted">{excerpt}</p>}

    {tags.length > 0 && (
      <div class="mt-3 flex flex-wrap gap-2">
        {tags.slice(0, 4).map((t: string) => (
          <TagPill tag={t} />
        ))}
      </div>
    )}
  </div>
</a>
